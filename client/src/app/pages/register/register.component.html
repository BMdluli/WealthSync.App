<div
  class="flex flex-col justify-center md:items-center mx-4 bg-gray-100 h-full"
>
  <div class="flex justify-center mb-4">
    <img class="w-[200px]" src="assets/logoipsum-342.svg" alt="logo" />
  </div>

  <div class="flex flex-col gap-4 p-4 bg-white rounded-2xl md:min-w-[500px]">
    <div class="flex flex-col items-center gap-2">
      <h1 class="text-2xl md:text-4xl font-semibold">Create an account</h1>
      <p>
        Already have an account?
        <a class="text-green-500 font-bold" href="/login">Sign in</a>
      </p>
    </div>

    <form
      #registerForm="ngForm"
      (ngSubmit)="submitForm(registerForm)"
      class="flex flex-col gap-3 md:gap-5"
    >
      <div class="flex flex-col">
        <label for="name">Name</label>
        <input
          class="h-[48px] border-2 border-gray-300 rounded-md p-2 mt-1"
          type="text"
          placeholder="Jack Sparrow"
          name="name"
          [(ngModel)]="user.name"
          #nameCtrl="ngModel"
          required
        />
        @if (nameCtrl.invalid && nameCtrl.touched) {
        <small class="text-red-500">Name is required</small>
        }
      </div>

      <div class="flex flex-col">
        <label for="username">Username</label>
        <input
          class="h-[48px] border-2 border-gray-300 rounded-md p-2 mt-1"
          type="text"
          placeholder="Jack"
          name="username"
          [(ngModel)]="user.username"
          #usernameCtrl="ngModel"
          required
        />
        @if (usernameCtrl.invalid && usernameCtrl.touched) {
        <small class="text-red-500">Username is required</small>
        }
      </div>

      <div class="flex flex-col">
        <label for="email">Email</label>
        <input
          class="h-[48px] border-2 border-gray-300 rounded-md p-2 mt-1"
          type="email"
          placeholder="jack@blackpearl.com"
          name="email"
          [(ngModel)]="user.email"
          #emailCtrl="ngModel"
          required
          email
        />
        @if (emailCtrl.invalid && emailCtrl.touched) {
        <small class="text-red-500">Valid email is required</small>
        }
      </div>

      <div class="flex flex-col">
        <label for="password">Password</label>
        <input
          class="h-[48px] border-2 border-gray-300 rounded-md p-2 mt-1"
          type="password"
          placeholder="********"
          name="password"
          [(ngModel)]="user.password"
          #passwordCtrl="ngModel"
          required
          minlength="6"
        />
        @if (passwordCtrl.invalid && passwordCtrl.touched) {
        <small class="text-red-500"
          >Password must be at least 6 characters</small
        >
        }
      </div>

      <button
        class="bg-black h-[46px] text-white rounded-md cursor-pointer"
        type="submit"
        [disabled]="registerForm.invalid || loading"
      >
        @if(loading) {
        <app-spinner></app-spinner>
        } @else { Register }
      </button>
    </form>
  </div>
</div>
